{% extends 'base.html' %}

{% block title %}Carga Masiva - Secretaría{% endblock %}

{% block sidebar %}
<li class="nav-item">
    <a class="nav-link" href="{% url 'presentation:secretaria_dashboard' %}">
        <i class="bi bi-house-door"></i> Dashboard
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'presentation:secretaria_classrooms' %}">
        <i class="bi bi-building"></i> Gestión de Salones
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'presentation:secretaria_schedule' %}">
        <i class="bi bi-calendar-week"></i> Programación de Cursos
    </a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="{% url 'presentation:secretaria_upload' %}">
        <i class="bi bi-cloud-upload"></i> Carga Masiva
    </a>
</li>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="mb-4">
            <i class="bi bi-cloud-upload"></i> Carga Masiva de Datos
        </h1>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="card-title mb-0">Cargar Cursos y Profesores</h5>
            </div>
            <div class="card-body">
                <p>Sube el archivo CSV con la lista de cursos, grupos y profesores asignados (ej. <code>Curso_Profesor.csv</code>).</p>
                <form method="post" enctype="multipart/form-data" action="{% url 'presentation:secretaria_upload_cursos' %}">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="file_cursos" class="form-label">Archivo CSV de Cursos</label>
                        <input class="form-control" type="file" id="file_cursos" name="file_cursos" accept=".csv" required>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-upload"></i> Cargar Cursos
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="card-title mb-0">Cargar Alumnos y Matrículas</h5>
            </div>
            <div class="card-body">
                <p>Sube los archivos CSV con las listas de alumnos por cada grupo (ej. <code>Trabajo_Interdisciplinar_II...csv</code>).</p>
                <form method="post" enctype="multipart/form-data" action="{% url 'presentation:secretaria_upload_alumnos' %}">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="file_alumnos" class="form-label">Archivos CSV de Alumnos</label>
                        <input class="form-control" type="file" id="file_alumnos" name="file_alumnos" accept=".csv" multiple required>
                        <div class="form-text">Puedes seleccionar múltiples archivos.</div>
                    </div>
                    <button type="submit" class="btn btn-info">
                        <i class="bi bi-upload"></i> Cargar Alumnos
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}