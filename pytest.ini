[pytest]
# ==================================================
# Configuración de Django
# ==================================================
DJANGO_SETTINGS_MODULE = config.settings_test

# ==================================================
# Descubrimiento de tests
# ==================================================
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# ==================================================
# Opciones por defecto al ejecutar pytest
# ==================================================
addopts =
    --verbose
    --nomigrations
    --ignore=infrastructure/persistence/migrations
    --ignore=tests/performance
    --cov=.
    --cov-report=html
    --cov-report=xml
    --cov-report=term-missing

# ==================================================
# Ubicación de los tests
# ==================================================
testpaths = tests

# ==================================================
# Marcadores personalizados
# ==================================================
markers =
    unit: Tests unitarios
    integration: Tests de integración
    selenium: Tests E2E con Selenium (requiere Chrome/Chromium)
    slow: Tests lentos

